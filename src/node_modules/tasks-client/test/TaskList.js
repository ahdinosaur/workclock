"use strict";

var expect = require('chai').expect;

var TaskList = require('../TaskList');

describe("TaskList", function () {
  var taskList = new TaskList();

  describe(".create", function () {
    beforeEach(function () {
      taskList.reset();
    });
    it("should have correct defaults", function () {
      var task = taskList.add({});
      expect(task.get('name'))
        .to.be.a('string')
        .and.to.equal('');
      expect(task.get('description'))
        .to.be.a('string')
        .and.to.equal('');
    });
    it("should not allow invalid data", function () {
      var task = taskList.create({
        "name": "areallylongnamethatissolong",
        "description": "",
      });
      var error = task.validationError;
      expect(error).to.exist;
      expect(error.name).to.equal("Name must be at most 10 characters");
    });
  });
});

