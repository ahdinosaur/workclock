"use strict";

var should = require('should');

var TaskList = require('../TaskList');

describe("TaskList", function () {
  var taskList = new TaskList();

  describe(".create", function () {
    beforeEach(function () {
      taskList.reset();
    });
    it("should have correct defaults", function () {
      var task = taskList.add({});
      task.get('name')
        .should.be.type('string')
        .and.equal('');
      task.get('description')
        .should.be.type('string')
        .and.equal('');
    });
    it("should not allow invalid data", function () {
      var task = taskList.create({
        "name": "areallylongnamethatissolong",
        "description": "",
      });
      var error = task.validationError;
      should.exist(error);
      error.name.should.equal("Name must be at most 10 characters");
    });
  });
});

