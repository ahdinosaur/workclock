var React = require('react.backbone');
var validation = require('backbone-validation');

module.exports = React.createBackboneClass({
  getInitialState: function () {
    return { errors: {} };
  },
  render: require('./Task.jsx'),
  destroy: function (event) {
    console.log("task destroy", this.model());
    this.model().destroy();
  },
  save: function (event) {
    console.log("task save", this.model());
    this.model().save();
  },
  onChange: function(prop) {
    var self = this;
    return function () {
      self.model().set(prop, event.target.value);
    };
  },
  componentWillMount: function (rootEl) {
    // bind view to collection
    validation.bind(this, {
      model: this.model(),
    });
  },
});
