"use strict";

/* code ported from https://github.com/DrTom/digraph-demo/blob/master/app/models/node.rb */

var sql = require('sql');

var Arc = require('./Arc');

module.exports = sql.Model.extend({
  tableName: 'holon_nodes',
  in: function () {
    return this.hasMany(Arc, 'targetId');
  },
  out: function () {
    return this.hasMany(Arc, 'sourceId');
  },
  predecessors: function () {
    return this.hasMany(Arc).through(Arc, 'source');
  },
  successors: function () {
    return this.hasMany(Arc).through(Arc, 'target');
  },
  descendants: function () {
    
  },
  ancestors: function () {

  },
});
